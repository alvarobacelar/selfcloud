
<div class="page-header">
  <h1>
    <%= @cloud.name %>
  </h1>
  <div class="pull-right">
    <%= link_to "Editar", edit_cloud_path(@cloud), class: 'btn btn-primary' %>
  </div>
</div>

<div class="panel panel-default">
  <table class="table">
    <tr>
      <td class="col-md-2">Description</td> <td><%= @cloud.description %></td>
    </tr>
    <tr>
      <td>Cloud type</td> <td><%= @cloud.cloud_type %></td>
    </tr>
    <tr>
      <td>Date do register</td> <td><%= l @cloud.created_at %></td>
    </tr>
  </table>
</div>

<% if @cloud.cloud_type == "linode" %>
<div class="row">
  <div class="col-lg-12">
    <div class="panel panel-default">
      <div class="panel-heading">
        Machines
      </div>
      <!-- /.panel-heading -->
      <div class="panel-body">
        <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
          <thead>
            <tr>
              <th>Label</th>
              <th>Display Groups</th>
              <th>RAM</th>
              <th>HD</th>
              <th>Distribuition</th>
              <th> Actions </th>
            </tr>
          </thead>
          <tbody>
            <% @cloudone = Cloud.conecta(@cloud.id, @cloud.cloud_type).linode.list.each do |plan| %>
            <tr class="<%= plan.lpm_displaygroup %>">
              <td><%= plan.label %></td>
              <td><%= plan.lpm_displaygroup %></td>
              <td><%= total = plan.totalram / 1024 %> GB</td>
              <td class="center"><%= plan.totalhd %></td>
              <td class="center"><%= plan.distributionvendor %></td>
              <script>
              function rebootMachine(id) {
                "<%= @cloudone.linode.reboot(linodeid: id) %>"
              }
              </script>
              <td>

              </td>
            </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      <!-- /.panel-body -->
    </div>
    <!-- /.panel -->
  </div>
  <!-- /.col-lg-12 -->
</div>
<% end %>
